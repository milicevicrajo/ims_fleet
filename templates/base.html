{% load static %}
<!DOCTYPE html>
<html dir="ltr" lang="sr">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords"
        content="wrappixel, admin dashboard, html css dashboard, web dashboard, bootstrap 5 admin, bootstrap 5, css3 dashboard, bootstrap 5 dashboard, Matrix lite admin bootstrap 5 dashboard, frontend, responsive bootstrap 5 admin template, Matrix admin lite design, Matrix admin lite dashboard bootstrap 5 dashboard template">
    <meta name="description"
        content="Matrix Admin Lite Free Version is powerful and clean admin dashboard template, inpired from Bootstrap Framework">
    <meta name="robots" content="noindex,nofollow">
    <title>{% block title %} IMS - Flota {% endblock %}</title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="../../assets/images/favicon.png">
    <!-- Custom CSS -->
    <link href="{% static 'fleet/dist/css/style.css' %}" rel="stylesheet">
    <link src="{% static 'fleet/dist/js/script.js' %}" rel="stylesheet">

    <!-- DataTables CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/2.1.4/css/dataTables.dataTables.min.css">
    
    <!-- Select2 CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css">
</head>

<body>
<!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div id="main-wrapper" data-layout="vertical" data-navbarbg="skin5" data-sidebartype="full"
        data-sidebar-position="absolute" data-header-position="absolute" data-boxed-layout="full">
        <!-- ============================================================== -->
        {% include "header.html" %}
        {% include "sidebar.html" %}
        <!-- ============================================================== -->
        <!-- Page wrapper  -->
        <!-- ============================================================== -->
        <div class="page-wrapper">
            <!-- ============================================================== -->
            <!-- Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            {% comment %} <div class="page-breadcrumb">
                <div class="row">
                    <div class="col-12 d-flex no-block align-items-center">
                        <h4 class="page-title">Dashboard</h4>
                        <div class="ms-auto text-end">
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                                    <li class="breadcrumb-item active" aria-current="page">Library</li>
                                </ol>
                            </nav>
                        </div>
                    </div>
                </div>
            </div> {% endcomment %}
            <!-- ============================================================== -->
            <!-- End Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid">
                <!-- ============================================================== -->
                <!-- Sales Cards  -->
                <!-- ============================================================== -->


                
                {% block content %}
                {% endblock %}


            </div>
            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            <footer class="footer text-center">
                <p>&copy; 2024 IMS Fleet - Rajo Milićević</p>
            </footer>
            <!-- ============================================================== -->
            <!-- End footer -->
            <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Page wrapper  -->
        <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->

    <!-- ============================================================== -->
    <!-- All Jquery -->
    <!-- ============================================================== -->
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/2.1.4/js/dataTables.min.js"></script>

    <!-- Moment.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js"></script>

    <!-- datetime-moment.js -->
    <script src="https://cdn.datatables.net/plug-ins/2.1.4/sorting/datetime-moment.js"></script>
    
    <!-- Select2 JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
    
    <!-- Bootstrap tether Core JavaScript -->
    <script src="{% static 'fleet/assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'fleet/assets/libs/perfect-scrollbar/dist/perfect-scrollbar.jquery.min.js' %}"></script>
    <script src="{% static 'fleet/assets/extra-libs/sparkline/sparkline.js' %}"></script>

    <!--Wave Effects -->
    <script src="{% static 'fleet/dist/js/waves.js' %}"></script>

    <!--Menu sidebar -->
    <script src="{% static 'fleet/dist/js/sidebarmenu.js' %}"></script>

    <!--Custom JavaScript -->
    <script src="{% static 'fleet/dist/js/custom.min.js' %}"></script>

    <!-- Charts js Files -->
    <script src="{% static 'fleet/assets/libs/flot/excanvas.js' %}"></script>
    <script src="{% static 'fleet/assets/libs/flot/jquery.flot.js' %}"></script>
    <script src="{% static 'fleet/assets/libs/flot/jquery.flot.pie.js' %}"></script>
    <script src="{% static 'fleet/assets/libs/flot/jquery.flot.time.js' %}"></script>
    <script src="{% static 'fleet/assets/libs/flot/jquery.flot.stack.js' %}"></script>
    <script src="{% static 'fleet/assets/libs/flot/jquery.flot.crosshair.js' %}"></script>
    <script src="{% static 'fleet/assets/libs/flot.tooltip/js/jquery.flot.tooltip.min.js' %}"></script>

    <script src="{% static 'fleet/dist/js/pages/chart/chart-page-init.js' %}"></script>

    <script>
        $(document).ready(function() {
            // Postavljanje lokalizacije na srpski


            // Ručna implementacija sortiranja datuma
            $.fn.dataTable.ext.type.order['date-custom-pre'] = function(date) {
                return moment(date, 'DD/MM/YYYY').toDate();
            };
    
            var languageSettings = {
                "decimal": ",",
                "thousands": ".",
                "search": "Pretraga:",
                "lengthMenu": "Prikaži _MENU_ stavki po strani",
                "info": "Prikazano _START_ do _END_ od _TOTAL_ stavki",
                "infoEmpty": "Prikazano 0 do 0 od 0 stavki",
                "infoFiltered": "(filtrirano od ukupno _MAX_ stavki)",
                "loadingRecords": "Učitavanje...",
                "zeroRecords": "Nema pronađenih podataka",
                "emptyTable": "Nema podataka u tabeli",
                "paginate": {
                    "first": "Prva",
                    "previous": "Prethodna",
                    "next": "Sledeća",
                    "last": "Poslednja"
                },
                "aria": {
                    "sortAscending": ": aktiviraj za sortiranje kolone uzlazno",
                    "sortDescending": ": aktiviraj za sortiranje kolone silazno"
                }
            };
    
            // Inicijalizacija DataTables sa prilagođenim formatom datuma
            var table = $('#Datatable').DataTable({
                "language": languageSettings,
                "columnDefs": [
                { "type": "date-custom", "targets": [2,3] }
            ]
            });
            var table = $('#DatatableVozila').DataTable({
                "language": languageSettings,

            });
            var table = $('#DatatableSaobracajne').DataTable({
                "language": languageSettings,
                "columnDefs": [
                { "type": "date-custom", "targets": [2,3] }
            ]
            });
            var table = $('#DatatableLease').DataTable({
                "language": languageSettings,
                "columnDefs": [
                { "type": "date-custom", "targets": [6,7] }
            ]
            });
            var table = $('#DatatablePolicy').DataTable({
                "language": languageSettings,
                "scrollX": true,  // Enable horizontal scrolling
                "autoWidth": false,  // Disable automatic column width calculation
                "columnDefs": [
                { "type": "date-custom", "targets": [9,10,13] }
            ]
            });
            var table = $('#DatatableFuel').DataTable({
                "language": languageSettings,
                "scrollX": true,  // Enable horizontal scrolling
                "autoWidth": false,  // Disable automatic column width calculation
                "columnDefs": [
                { "type": "date-custom", "targets": [2] }
                        ],

            });
            var table = $('#DatatableEmployee').DataTable({
                "language": languageSettings,
                "scrollX": true,  // Enable horizontal scrolling
                "autoWidth": false,  // Disable automatic column width calculation
                "columnDefs": [
                { "type": "date-custom", "targets": [5,6] }
                        ],

            });
            var table = $('#DatatableIncident').DataTable({
                "language": languageSettings,
                "scrollX": true,  // Enable horizontal scrolling
                "autoWidth": false,  // Disable automatic column width calculation
                "columnDefs": [
                { "type": "date-custom", "targets": [3] }
                        ],

            });
            var table = $('#DatatableNalozi').DataTable({
                "language": languageSettings,
                "scrollX": true,  // Enable horizontal scrolling
                "autoWidth": false,  // Disable automatic column width calculation
                "columnDefs": [
                { "type": "date-custom", "targets": [5] }
                        ],

            });
            var table = $('#DatatableServisi').DataTable({
                "language": languageSettings,
                "scrollX": true,  // Enable horizontal scrolling
                "autoWidth": false,  // Disable automatic column width calculation
                "columnDefs": [
                { "type": "date-custom", "targets": [2] }
                        ],

            });
            var table = $('#DatatableTrebovanja').DataTable({
                "language": languageSettings,
                "scrollX": true,  // Enable horizontal scrolling
                "autoWidth": false,  // Disable automatic column width calculation
                "columnDefs": [
                { "type": "date-custom", "targets": [2] }
                        ],

            });
            var table = $('#DatatableFuelDetail').DataTable({
                "language": languageSettings,
                "scrollX": true,  // Enable horizontal scrolling
                "autoWidth": false,  // Disable automatic column width calculation
                "columnDefs": [
                { "type": "date-custom", "targets": [0] }
                        ],

            });
        });      
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            // Initialize Select2 on all existing elements with class 'select2-method'
            $('.select2-method').select2({
                theme: 'bootstrap-5',  // Using Bootstrap 5 theme
                width: '100%'          // Ensure it takes up the full width of the parent container
            });
        });
    </script>

    <!-- Custom CSS for No Word Wrap -->
    <style>
        /* Compact styling for DataTables with class "display compact" */
        table.display.compact th, 
        table.display.compact td {
            padding: 4px 8px;  /* Adjust padding */
            font-size: 14px;   /* Adjust font size */
        }
        
        /* Ensure horizontal scrolling is handled */
        .dataTables_wrapper {
            overflow-x: auto;  /* Enable horizontal scrolling for wrappers */
        }

        table.display.compact tbody td {
            white-space: nowrap; /* Prevent word wrap */
        }
        .custom-font-table {
            font-family: 'Arial', sans-serif; /* Menjaš font za celu tabelu */
        }
        
        .custom-font-table td {
            font-size: 15px; /* Postavi veličinu fonta */
            font-family: 'Roboto', sans-serif; /* Ovde možeš promeniti font na drugi */
        }
        
        {% comment %} .custom-font-table td:first-child {
            font-weight: bold; /* Prvi stupac u tabeli (naslovi) je podebljan */
        } {% endcomment %}
        
        .custom-font-table td:last-child {
            font-style: italic; /* Poslednji stupac u tabeli je italik */
        }
        .custom-font-table td, .custom-font-table th {
            padding: 5px 10px; /* Manji padding smanjuje visinu reda */
            line-height: 1.8; /* Smanji visinu linije za dodatno smanjenje razmaka između redova */
        }
        </style>
        
</body>
</html>
